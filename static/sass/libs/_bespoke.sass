.animate-opacity
  .bespoke-slide
    +transition(opacity .2s ease-in-out)

// TODO: this thingie bugs around when >15-20 slides :-S
.animate-transform3d
  .bespoke-parent
    +perspective(600px)
  .bespoke-slide
    +transition(.2s ease-in-out)
  // Generate CSS classes for the transitions
  // TODO: through X needs to be configurable
  //@for $i from 1 through 21
    //.bespoke-before-#{$i}
      //+translate3d(-100% * $i, 0, 0)
      //z-index: 1
    //.bespoke-after-#{$i}
      //+translate3d(100% * $i, 0, 0)
      //z-index: 1

.bespoke-parent
  position: absolute
  top: 0
  left: 0
  // You really need to define all positions in order to make this work.
  right: 0
  bottom: 0
  height: 100%

  background: #fff


.bespoke-slide
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%
  +padding-leader(4)
  padding-left: 4em
  padding-right: 4em
  +padding-trailer(4)

  background: #fff


.bespoke-inactive
  opacity: 0
  z-index: -1

.bespoke-active
  opacity: 1
  z-index: 1


.bespoke-progress
  position: absolute
  left: 0
  bottom: 0
  width: 100%
  height: 4px
  z-index: 2

  background: rgba(0, 0, 0, 0.1)

  span
    display: block
    width: 0
    height: 100%

    background: #08c
    +background(linear-gradient(#08c, #04c))
    //+transition(width 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985))
    +transition(width 800ms ease-in-out)


.bespoke-bullet-active
  opacity: 1
.bespoke-bullet-inactive
  opacity: 0


#bespoke-spotlight
  opacity: 0.75
  position: absolute
  left: 50%
  top: 30%
  margin-left: -204px
  padding: 6px
  background: #DDD
  +background(linear-gradient(darken(#fff, 5%), darken(#fff, 8%)))
  +box-shadow(0 1px 5px rgba(0, 0, 0, .55))
  border-bottom: 1px solid rgba(0, 0, 0, .3)

#bespoke-spotlight-q
  outline: none
  font-size: 300%
  width: 400px

#bespoke-spotlight-q.no-match
  background: #ff8888
